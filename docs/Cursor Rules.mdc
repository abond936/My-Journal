---
description: 
globs: 
alwaysApply: true
---
## CRITICAL RULES OF ENGAGEMENT

1. Always check for existence anywhere in the codebase before offering to create
2. Always show planned changes before execution
3. Always ask and wait for explicit permission before modifying or creating any file or directory
4. Always work within and maintain the established directory structure
5. A question is not a request to do anything. It seeks information only.
6. Offer to remove un-needed files and directories 

## Coding Standards
- Adhere strictly to file directory organizational structure
- Use app/ directory for routing (not pages/)
- Use @/ alias for import paths.
- Implement Error Handling and Logging in all code.
- Document Code as Education to tool
- Styles are colocated with componenets.
- Use Global Variables for all Theming and Styling
- Style for fluid, gradient responsiveness, not breakpoints
- Uses environment variables for all credentials



## Script Execution
- Scripts MUST be executed using:
  ```bash
  `npx ts-node -r tsconfig-paths/register -P tsconfig.scripts.json src/lib/scripts/<script-name>
  ```
- NEVER execute scripts directly with `node` or `ts-node` without proper configuration
- ALWAYS use the correct TypeScript configuration for scripts

## Environment Variables
- Scripts MUST load environment variables at the top:
  ```typescript
  import * as dotenv from 'dotenv';
  import { resolve } from 'path';

  // Debug dotenv loading
  const result = dotenv.config();
  console.log('\nDotenv config result:', result);
  console.log('Current working directory:', process.cwd());
  console.log('Looking for .env file in:', resolve(process.cwd(), '.env'));
  ```
- Required environment variables MUST be documented in the script's header
- Scripts MUST validate required environment variables before execution

## Firebase Integration
- Firebase Admin imports MUST use the `@/lib/config/firebase/admin` path:
- Firebase Admin MUST be imported AFTER environment variables are loaded
- Required Firebase environment variables:
  - `FIREBASE_SERVICE_ACCOUNT_PROJECT_ID`
  - `FIREBASE_SERVICE_ACCOUNT_PRIVATE_KEY`
  - `FIREBASE_SERVICE_ACCOUNT_CLIENT_EMAIL`

## TypeScript Configuration
- Scripts MUST use `tsconfig.scripts.json` which includes:
 

## Dependencies
- Required dependencies MUST be installed:
  ```bash
  `npm install --save-dev ts-node tsconfig-paths dotenv @types/dotenv
  ```
- Additional dependencies as needed (e.g., `archiver` for backup scripts)








 


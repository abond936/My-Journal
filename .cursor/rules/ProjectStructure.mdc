---
description: 
globs: 
alwaysApply: false
---
# Project Structure Rules
Status: ðŸš§ In Progress
Last Updated: 2024-03-19
Priority: HIGH

## 1. Directory Structure

### 1.1 Root Level
```
/
â”œâ”€â”€ app/                    # Next.js app router pages
â”œâ”€â”€ components/            # Reusable UI components
â”œâ”€â”€ lib/                   # Shared utilities and services
â”œâ”€â”€ public/               # Static assets
â”œâ”€â”€ docs/                 # Project documentation
â”œâ”€â”€ tests/                # Test files
â””â”€â”€ config/               # Configuration files
```

### 1.2 App Directory (`app/`)
```
app/
â”œâ”€â”€ entries/             # Entry management and display
â”œâ”€â”€ albums/              # Album management and display
â”œâ”€â”€ tags/                # Tag management and display
â”œâ”€â”€ admin/              # Administrative interface
â”œâ”€â”€ api/                # API routes
â””â”€â”€ layout.tsx          # Root layout
```

### 1.3 Components Directory (`components/`)
```
components/
â”œâ”€â”€ common/             # Small, reusable UI elements
â”‚   â”œâ”€â”€ buttons/
â”‚   â”œâ”€â”€ inputs/
â”‚   â”œâ”€â”€ cards/
â”‚   â””â”€â”€ icons/
â”œâ”€â”€ features/           # Domain-specific components
â”‚   â”œâ”€â”€ entries/
â”‚   â”œâ”€â”€ albums/
â”‚   â””â”€â”€ tags/
â”œâ”€â”€ layouts/            # Layout components
â””â”€â”€ ui/                # Basic UI components
```

### 1.4 Library Directory (`lib/`)
```
lib/
â”œâ”€â”€ services/          # API and data services
â”œâ”€â”€ utils/            # Helper functions
â”œâ”€â”€ hooks/            # Custom React hooks
â”œâ”€â”€ constants/        # Shared constants
â”œâ”€â”€ types/            # TypeScript types
â”œâ”€â”€ styles/           # Shared styles
â”œâ”€â”€ config/           # Application configuration
â””â”€â”€ scripts/          # Utility scripts
```

### 1.5 Public Directory (`public/`)
```
public/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icons/        # Application icons
â”‚   â””â”€â”€ assets/       # Other images
â””â”€â”€ fonts/            # Font files
```

## 2. Naming Conventions

### 2.1 Files
- React Components: PascalCase (e.g., `EntryCard.tsx`)
- Utilities: camelCase (e.g., `formatDate.ts`)
- Styles: kebab-case (e.g., `entry-card.css`)
- Tests: `[name].test.ts` or `[name].spec.ts`
- Types: `[name].types.ts`

### 2.2 Directories
- Feature directories: kebab-case
- Component directories: kebab-case
- Utility directories: kebab-case

## 3. Component Organization

### 3.1 Common Components
- Small, reusable UI elements
- No business logic
- Highly generic
- Examples: buttons, inputs, cards, icons

### 3.2 Feature Components
- Domain-specific components
- May contain business logic
- Specific to entries, albums, or tags
- Examples: entry cards, album viewers, tag selectors

### 3.3 Layout Components
- Define page structure
- Handle responsive design
- Manage common UI elements
- Examples: main layout, admin layout

## 4. Code Organization

### 4.1 Component Structure
```typescript
// Imports
import { ... } from '...'

// Types
interface Props {
  // ...
}

// Component
export const ComponentName: React.FC<Props> = ({ ... }) => {
  // ...
}

// Styles
const styles = {
  // ...
}
```

### 4.2 File Organization
- Imports at top
- Types/interfaces next
- Component definition
- Helper functions
- Styles
- Exports

## 5. Asset Management

### 5.1 Images
- Icons in `public/images/icons/`
- Other images in `public/images/assets/`
- Use descriptive names
- Optimize for web



## 6. Testing Structure

### 6.1 Test Organization
- Unit tests with components
- Integration tests in `tests/integration/`
- E2E tests in `tests/e2e/`

### 6.2 Test Naming
- `[component].test.ts` for unit tests
- `[feature].spec.ts` for integration tests
- `[flow].e2e.ts` for E2E tests

## 7. Documentation

### 7.1 Code Documentation
- JSDoc for functions and components
- README.md in each major directory
- Type definitions for all interfaces

### 7.2 Project Documentation
- All docs in `docs/` directory
- Markdown format
- Include status and last updated
- Link to related documentation

## 8. Configuration

### 8.1 Environment Variables
- `.env` for local development
- `.env.example` for documentation
- No secrets in version control

### 8.2 Build Configuration
- Next.js config in root
- TypeScript config in root
- Other configs in `lib/config/`

## 9. Version Control

### 9.1 Git Structure
- Feature branches from main
- Pull requests for all changes
- Semantic commit messages
- No direct commits to main

### 9.2 Ignored Files
- Build artifacts
- Dependencies
- Environment files
- IDE files

## 10. Best Practices

### 10.1 Code Quality
- ESLint for linting
- Prettier for formatting
- TypeScript for type safety
- No any types

### 10.2 Performance
- Code splitting
- Image optimization
- Lazy loading
- Bundle analysis

### 10.3 Security
- No secrets in code
- Input validation
- XSS prevention
- CSRF protection 